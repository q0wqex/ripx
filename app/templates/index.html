<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–•–æ—Å—Ç–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</title>
<style>
body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px;background:#f9f9f9}
h1{color:#333;text-align:center}
.upload-container{margin:30px 0}
.upload-area{border:3px dashed #ccc;border-radius:10px;padding:40px;text-align:center;margin:20px 0;background:#fff;cursor:pointer}
.upload-area:hover{border-color:#999;background:#f5f5f5}
.upload-area.dragover{border-color:#4CAF50;background:#e8f5e8}
.upload-icon{font-size:48px;color:#ccc;margin-bottom:15px}
.upload-text{font-size:18px;color:#666;margin-bottom:15px}
.upload-hint{font-size:14px;color:#999}
form{margin-top:20px}
input[type="file"]{display:none}
.albums-container{margin:30px 0}
.albums-title{font-size:20px;color:#333;margin-bottom:15px}
.albums-list{display:flex;flex-direction:column;gap:15px}
.album-item{border:1px solid #ddd;border-radius:8px;padding:15px;background:#fff;text-align:center}
.album-link:hover .album-item{background:#f5f5f5}
.album-link{text-decoration:none;color:#333}
.album-link:hover{color:#333}
.album-count{font-size:14px;color:#666;margin-top:5px}
</style>
</head>
<body>
<h1>–•–æ—Å—Ç–∏–Ω–≥ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h1>
<p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–º–µ–Ω–∞</p>

<div class="upload-container">
<div class="upload-area" id="uploadArea">
<div class="upload-icon">üìÅ</div>
<div class="upload-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—é–¥–∞</div>
<div class="upload-hint">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤</div>
</div>
<form action="/upload" method="post" enctype="multipart/form-data" id="uploadForm">
<input type="file" name="image" accept="image/*" multiple id="fileInput">
</form>
</div>

<!-- –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–ª—å–±–æ–º–æ–≤ -->
{{if .HasAlbums}}
<div class="albums-container">
<div class="albums-title">–í–∞—à–∏ –∞–ª—å–±–æ–º—ã</div>
<div class="albums-list">
{{range .Albums}}
<a href="/{{$.SessionID}}/{{.ID}}" class="album-link" style="text-decoration:none;display:block;">
	<div class="album-item">
		<div style="font-weight:bold;color:#333;">{{.Name}}</div>
		<div class="album-count">{{.ImageCount}} –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</div>
		<div class="album-count">–°–æ–∑–¥–∞–Ω: {{.CreatedAt.Format "02.01.2006 15:04"}}</div>
	</div>
</a>
{{end}}
</div>
</div>
{{end}}

<script>
document.addEventListener('DOMContentLoaded',function(){
const uploadArea=document.getElementById('uploadArea');
const fileInput=document.getElementById('fileInput');
const uploadForm=document.getElementById('uploadForm');
uploadArea.addEventListener('click',function(){fileInput.click()});
fileInput.addEventListener('change',function(){
if(fileInput.files.length>0){
uploadForm.submit();
}
});
uploadArea.addEventListener('dragover',function(e){e.preventDefault();uploadArea.classList.add('dragover')});
uploadArea.addEventListener('dragleave',function(e){e.preventDefault();uploadArea.classList.remove('dragover')});
uploadArea.addEventListener('drop',function(e){
e.preventDefault();uploadArea.classList.remove('dragover');
const files=e.dataTransfer.files;
if(files.length>0){
fileInput.files=files;
uploadForm.submit();
}
});
});
</script>
</body>
</html>